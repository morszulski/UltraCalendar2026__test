<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kalendarz Imprez Rowerowych 2026</title>
    <!-- TailwindCSS z CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React + ReactDOM z CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel (pozwala używać JSX w przeglądarce) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body class="bg-gray-100">
    <div id="root"></div>

    <!-- Twój kod React z poprzedniego pliku -->
    <script type="text/babel">

import React, { useState, useMemo } from "react";

// Single-file React app (default export) using Tailwind CSS classes.
// - Shows month selector + list view
// - Filters by bike type and by distance range
// - Data embedded from user's event list (as requested)
// - No backend: static site, ready to deploy to GitHub Pages / Netlify / Cloudflare Pages

// --- EVENTS DATA ---
const EVENTS = [
  // Format: { id, dateStart: 'YYYY-MM-DD', dateEnd?, title, types: ['G','Sz'], distances: [100,200,500] }
  { id: 1, dateStart: '2025-03-14', title: 'PBT - Rozgrzewka', types:['G','M','Sz'], distances:[100,200,500] },
  { id: 2, dateStart: '2025-04-11', title: 'Trojak Kowala: Pierwsza Iskra', types:['G','Sz'], distances:[150,225,300] },
  { id: 3, dateStart: '2025-04-18', title: 'Pyra Trail', types:['G'], distances:[150,300] },
  { id: 4, dateStart: '2025-04-24', dateEnd: '2025-04-25', title: 'Mały Piękny Zachód', types:['Sz'], distances:[101,201,301] },
  { id: 5, dateStart: '2025-04-25', title: 'Po Grudzie', types:['G'], distances:[100,200,300] },
  { id: 6, dateStart: '2025-04-25', title: 'Czarne Serce', types:['M','G'], distances:[200] },
  { id: 7, dateStart: '2025-04-25', title: 'Ultra Duch Jabłoni', types:['Sz'], distances:[120,250,360] },
  { id: 8, dateStart: '2025-05-01', title: 'PBT - Gryf', types:['G','M','Sz'], distances:[120,200,220] },
  { id: 9, dateStart: '2025-05-01', title: 'GravOn | Along The River', types:['G'], distances:[850] },
  { id:10, dateStart: '2025-05-02', title: 'PBT - Bałtyk 600', types:['G','M','Sz'], distances:[600] },
  { id:11, dateStart: '2025-05-08', title: 'Ułan 600', types:['G'], distances:[120,160,260,450] },
  { id:12, dateStart: '2025-05-09', dateEnd:'2025-05-10', title:'Piękny Zachód', types:['Sz'], distances:[61,101,201,301,501] },
  { id:13, dateStart: '2025-05-09', title:'Baltic Bike Challenge', types:['G'], distances:[150,500] },
  { id:14, dateStart: '2025-05-11', title:'Przeciskach', types:['M'], distances:[350,410,700] },
  { id:15, dateStart: '2025-05-22', title:'Sudovia Gravel', types:['G','E'], distances:[450] },
  { id:16, dateStart: '2025-05-23', title:'Zakopane [Race Through Poland]', types:['Sz'], distances:[] },
  { id:17, dateStart: '2025-05-22', dateEnd:'2025-05-24', title:'Etapówka (3 etapy)', types:['Sz'], distances:[600] },
  { id:18, dateStart: '2025-05-22', title:'Gothica Trail', types:['G'], distances:[160,400,600] },
  { id:19, dateStart: '2025-05-30', dateEnd:'2025-05-31', title:'Wanoga Gravel', types:['G'], distances:[150,300,500] },
  { id:20, dateStart: '2025-06-04', title:'Pomorska 500-ka', types:['G'], distances:[500] },
  { id:21, dateStart: '2025-06-04', title:'Ultra Duch Puszczy', types:['G','Sz'], distances:[240,270,360,560] },
  { id:22, dateStart: '2025-06-06', title:'PBT - Wschód 1200', types:['G','Sz'], distances:[1200] },
  { id:23, dateStart: '2025-06-11', title:'GravOn | Three Countries', types:['M','G'], distances:[450] },
  { id:24, dateStart: '2025-06-12', title:'Ultra Lajkonik', types:['M','G','Sz'], distances:[100,250,300,500,600,1000] },
  { id:25, dateStart: '2025-06-12', dateEnd:'2025-06-13', title:'Duży Piękny Zachód', types:['Sz'], distances:[501,1001] },
  { id:26, dateStart: '2025-06-19', title:'Mazowiecki Gravel', types:['G','Sz'], distances:[120,200,250,500] },
  { id:27, dateStart: '2025-06-19', title:'Hardy Gravel: Noc Kupały', types:['G'], distances:[100,250,400,570] },
  { id:28, dateStart: '2025-06-19', title:'Varmia Gravel', types:['G','E'], distances:[100,160,450] },
  { id:29, dateStart: '2025-06-20', title:'Parle -Gravel Adventure Race', types:['G'], distances:[290,400] },
  { id:30, dateStart: '2025-06-20', title:'Trojak Kowala: Żar paleniska', types:['G','Sz'], distances:[175,315,450] },
  { id:31, dateStart: '2025-06-27', title:'Pogranicza Gravelu', types:['G'], distances:[160,250] },
  { id:32, dateStart: '2025-06-27', title:'Kotlina 400', types:['G'], distances:[414] },
  { id:33, dateStart: '2025-06-27', title:'Race Around Poland', types:['Sz'], distances:[300,900,1800,3600] },
  { id:34, dateStart: '2025-07-03', title:'Piękny Zachód - Bałtycki tysiąc', types:['Sz'], distances:[1001] },
  { id:35, dateStart: '2025-07-04', title:'Kaszubski Gravel Kartuzy', types:['G','Sz'], distances:[80,150,250] },
  { id:36, dateStart: '2025-07-04', title:'Pierścień Tysiąca Jezior', types:['Sz'], distances:[140,300,610] },
  { id:37, dateStart: '2025-07-04', title:'Wisła 1200', types:['G'], distances:[1200] },
  { id:38, dateStart: '2025-07-04', title:'Wisła 1200 Bikerafting', types:['B&R'], distances:[1200] },
  { id:39, dateStart: '2025-07-05', title:'Wisełka 500', types:['G'], distances:[500] },
  { id:40, dateStart: '2025-07-04', title:'PBT - Góry 400', types:['M'], distances:[400] },
  { id:41, dateStart: '2025-07-11', title:'Graveliada', types:['G'], distances:[80,160,250] },
  { id:42, dateStart: '2025-07-11', title:'Brejdak Gravel', types:['G'], distances:[100,250,500] },
  { id:43, dateStart: '2025-07-18', title:'Robinsonada Mazowiecka', types:['G'], distances:[80,150,250,350] },
  { id:44, dateStart: '2025-07-19', title:'Amber Road BikeRafting Race', types:['G','B&R'], distances:[1400] },
  { id:45, dateStart: '2025-07-24', title:'Lubuska Szosa', types:['Sz'], distances:[125,250,500] },
  { id:46, dateStart: '2025-08-01', title:'Kórnicki Maraton Turystyczny', types:['Sz'], distances:[100,200,300,500] },
  { id:47, dateStart: '2025-08-01', title:'PBT - Zachód 800', types:['G','Sz'], distances:[800] },
  { id:48, dateStart: '2025-08-06', title:'GravOn | Karkonosze Izery Gravel Race', types:['G'], distances:[200,400] },
  { id:49, dateStart: '2025-08-07', title:'Ultra Wschód', types:['G','Sz'], distances:[100,150,200,300,500] },
  { id:50, dateStart: '2025-08-08', title:'Robinsonada Kujawsko-Pomorska', types:['G'], distances:[80,90,150,250,500] },
  { id:51, dateStart: '2025-08-08', title:'PBT - Wybrzeże 500', types:['G','M','E'], distances:[500] },
  { id:52, dateStart: '2025-08-08', title:'Carpatia Divide', types:['G'], distances:[600] },
  { id:53, dateStart: '2025-08-15', title:'Ultra Niespodzianka + BikeRafting', types:['G','B&R'], distances:[1200] },
  { id:54, dateStart: '2025-08-15', title:'PBT - Polska 3200', types:['G','M'], distances:[3200] },
  { id:55, dateStart: '2025-08-21', title:'Bałtyk-Bieszczady Tour', types:['Sz'], distances:[1008] },
  { id:56, dateStart: '2025-08-22', title:'Warta Gravel', types:['G'], distances:[250,404] },
  { id:57, dateStart: '2025-08-28', title:'Trojak Kowala: Wszyscy Jesteśmy Kowalami', types:['G','Sz'], distances:[200,400,600] },
  { id:58, dateStart: '2025-09-02', title:'Bałtyk - Sudety Tour', types:['Sz'], distances:[2001] },
  { id:59, dateStart: '2025-09-05', title:'Robinsonada Łódzka', types:['G'], distances:[150,250,500] },
  { id:60, dateStart: '2025-09-05', title:'Dolina Noteci Gravel Adventure', types:['G'], distances:[100,200,300] },
  { id:61, dateStart: '2025-09-11', dateEnd:'2025-09-13', title:'Reza 2026', types:['G'], distances:[300] },
  { id:62, dateStart: '2025-09-12', title:'Robajk Gravel', types:['G'], distances:[140,240,340] },
  { id:63, dateStart: '2025-09-12', title:'Maraton Północ - Południe', types:['Sz'], distances:[1000] },
  { id:64, dateStart: '2025-09-18', title:'Great Lakes Gravel', types:['G'], distances:[160,450] },
  { id:65, dateStart: '2025-09-19', title:'Kocielski Gravel', types:['G'], distances:[] },
  { id:66, dateStart: '2025-09-26', title:'Robinsonada Wielkopolska', types:['G'], distances:[150,250,500] },
  { id:67, dateStart: '2025-09-26', title:'Maraton Rowerowy Dookoła Polski - Zachód', types:['Sz'], distances:[1030] },
  { id:68, dateStart: '2025-10-03', title:'PBT - Rozjazd', types:['G','M','Sz'], distances:[100,200,250,500,550] },
  { id:69, dateStart: '2025-10-17', title:'Robinsonada Pomorska', types:['G'], distances:[150,250,500] }
];

const ALL_TYPES = ['Sz','G','M','E','B&R'];

function formatDate(dt){
  const d = new Date(dt);
  return d.toLocaleDateString('pl-PL', {year:'numeric',month:'short',day:'numeric'});
}

export default function KalendarzImprez(){
  const today = new Date();
  const [monthOffset, setMonthOffset] = useState(0); // 0 = current month
  const [selectedTypes, setSelectedTypes] = useState(new Set());
  const [minDist, setMinDist] = useState('');
  const [maxDist, setMaxDist] = useState('');
  const [search, setSearch] = useState('');

  const viewMonth = new Date(today.getFullYear(), today.getMonth() + monthOffset, 1);
  const monthLabel = viewMonth.toLocaleString('pl-PL', {month:'long', year:'numeric'});

  const toggleType = (t) => {
    const s = new Set(selectedTypes);
    if(s.has(t)) s.delete(t); else s.add(t);
    setSelectedTypes(s);
  };

  // filtered events
  const filtered = useMemo(()=>{
    return EVENTS.filter(ev=>{
      // month filter: show events that start in this month OR span this month
      const evDate = new Date(ev.dateStart);
      const evEnd = ev.dateEnd ? new Date(ev.dateEnd): null;
      const monthStart = new Date(viewMonth.getFullYear(), viewMonth.getMonth(), 1);
      const monthEnd = new Date(viewMonth.getFullYear(), viewMonth.getMonth()+1, 0);
      const inMonth = (evDate <= monthEnd) && ( (evEnd? evEnd>=monthStart : evDate>=monthStart) );
      if(!inMonth) return false;
      // type filter
      if(selectedTypes.size>0){
        const matchesType = ev.types.some(t=>selectedTypes.has(t));
        if(!matchesType) return false;
      }
      // distance filter: check if any declared distance fits in range
      if(minDist || maxDist){
        const min = minDist? parseInt(minDist,10): -Infinity;
        const max = maxDist? parseInt(maxDist,10): Infinity;
        const anyInRange = ev.distances.length===0 ? true : ev.distances.some(d=>d>=min && d<=max);
        if(!anyInRange) return false;
      }
      // search
      if(search){
        const s = search.toLowerCase();
        if(!ev.title.toLowerCase().includes(s)) return false;
      }
      return true;
    }).sort((a,b)=> new Date(a.dateStart) - new Date(b.dateStart));
  },[viewMonth, selectedTypes, minDist, maxDist, search]);

  return (
    <div className="min-h-screen bg-gray-50 p-6">
      <div className="max-w-5xl mx-auto bg-white rounded-2xl shadow-lg p-6">
        <header className="flex items-center justify-between mb-4">
          <h1 className="text-2xl font-semibold">Kalendarz imprez rowerowych (2025)</h1>
          <div className="text-sm text-gray-600">Stan danych: 14.10.2025</div>
        </header>

        <section className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
          <div className="col-span-1 md:col-span-1">
            <div className="flex items-center gap-2">
              <button onClick={()=>setMonthOffset(m=>m-1)} className="px-3 py-1 rounded bg-gray-100">◀</button>
              <div className="font-medium">{monthLabel}</div>
              <button onClick={()=>setMonthOffset(m=>m+1)} className="px-3 py-1 rounded bg-gray-100">▶</button>
              <button onClick={()=>{setMonthOffset(0); setSelectedTypes(new Set()); setMinDist(''); setMaxDist(''); setSearch('');}} className="ml-auto text-sm text-blue-600">Reset</button>
            </div>

            <div className="mt-4">
              <label className="block text-xs text-gray-500">Szukaj</label>
              <input value={search} onChange={e=>setSearch(e.target.value)} className="w-full border rounded px-2 py-1" placeholder="np. Zakopane" />
            </div>

            <div className="mt-4">
              <label className="block text-xs text-gray-500">Filtr: typ roweru</label>
              <div className="flex flex-wrap gap-2 mt-2">
                {ALL_TYPES.map(t=> (
                  <button key={t} onClick={()=>toggleType(t)} className={`px-2 py-1 rounded border ${selectedTypes.has(t)? 'bg-blue-600 text-white' : 'bg-white'}`}>{t}</button>
                ))}
              </div>
            </div>

            <div className="mt-4">
              <label className="block text-xs text-gray-500">Filtr: dystans (km)</label>
              <div className="flex gap-2 mt-2">
                <input value={minDist} onChange={e=>setMinDist(e.target.value)} placeholder="min" className="w-1/2 border rounded px-2 py-1" />
                <input value={maxDist} onChange={e=>setMaxDist(e.target.value)} placeholder="max" className="w-1/2 border rounded px-2 py-1" />
              </div>
              <div className="text-xs text-gray-500 mt-1">Wpisz wartości (np. 100 i 300) — filtr sprawdzi czy któryś z dystansów imprezy pasuje.</div>
            </div>

          </div>

          <div className="col-span-1 md:col-span-2">
            <div className="bg-gray-50 p-4 rounded">
              <div className="text-sm text-gray-600 mb-2">Wyniki: <strong>{filtered.length}</strong> imprez</div>
              <ul className="space-y-3">
                {filtered.map(ev=> (
                  <li key={ev.id} className="p-3 border rounded hover:shadow">
                    <div className="flex items-start justify-between">
                      <div>
                        <div className="font-medium">{ev.title}</div>
                        <div className="text-xs text-gray-600">{formatDate(ev.dateStart)}{ev.dateEnd? ' — '+formatDate(ev.dateEnd): ''} • Typ: {ev.types.join(', ')} • Dystans: {ev.distances.length? ev.distances.join('/')+' km' : '—'}</div>
                        <div className="mt-2 text-sm text-gray-700">Podsumowanie: event widoczny w wybranym miesiącu. Kliknij, aby skopiować informacje.</div>
                      </div>
                      <div>
                        <button onClick={()=>navigator.clipboard.writeText(`${ev.title} — ${formatDate(ev.dateStart)}${ev.dateEnd? ' — '+formatDate(ev.dateEnd):''} • Typ: ${ev.types.join(', ')} • Dystans: ${ev.distances.length? ev.distances.join('/')+' km':''}`)} className="px-3 py-1 bg-blue-600 text-white rounded">Kopiuj</button>
                      </div>
                    </div>
                  </li>
                ))}
                {filtered.length===0 && <li className="text-gray-500">Brak imprez w tym miesiącu z zadanymi filtrami.</li>}
              </ul>
            </div>

            <div className="mt-4 text-xs text-gray-500">(Aplikacja działa w pełni statycznie — idealna do darmowego hostingu: GitHub Pages, Netlify, Cloudflare Pages.)</div>
          </div>
        </section>

        <footer className="text-sm text-gray-600">Gotowe do wdrożenia jako pojedynczy plik React + Tailwind. Instrukcje wdrożenia znajdziesz w panelu informacyjnym (na czacie).</footer>
      </div>
    </div>
  );
}


      
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<KalendarzImprez />);
    </script>
  </body>
</html>
