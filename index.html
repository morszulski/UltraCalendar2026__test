<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kalendarz Imprez Rowerowych 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body class="bg-gray-100">
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useMemo } = React;

      // --- DANE IMPREZ (rok 2026) ---
      const EVENTS = [
        { id:1, dateStart:'2026-03-14', title:'PBT - Rozgrzewka', types:['G','M','Sz'], distances:[100,200,500] },
        { id:2, dateStart:'2026-04-11', title:'Trojak Kowala: Pierwsza Iskra', types:['G','Sz'], distances:[150,225,300] },
        { id:3, dateStart:'2026-04-18', title:'Pyra Trail', types:['G'], distances:[150,300] },
        { id:4, dateStart:'2026-04-24', dateEnd:'2026-04-25', title:'Mały Piękny Zachód', types:['Sz'], distances:[101,201,301] },
        { id:5, dateStart:'2026-04-25', title:'Po Grudzie', types:['G'], distances:[100,200,300] },
        { id:6, dateStart:'2026-04-25', title:'Czarne Serce', types:['M','G'], distances:[200] },
        { id:7, dateStart:'2026-04-25', title:'Ultra Duch Jabłoni', types:['Sz'], distances:[120,250,360] },
        { id:8, dateStart:'2026-05-01', title:'PBT - Gryf', types:['G','M','Sz'], distances:[120,200,220] },
        { id:9, dateStart:'2026-05-01', title:'GravOn | Along The River', types:['G'], distances:[850] },
        { id:10, dateStart:'2026-05-02', title:'PBT - Bałtyk 600', types:['G','M','Sz'], distances:[600] },
        { id:11, dateStart:'2026-05-08', title:'Ułan 600', types:['G'], distances:[120,160,260,450] },
        { id:12, dateStart:'2026-05-09', dateEnd:'2026-05-10', title:'Piękny Zachód', types:['Sz'], distances:[61,101,201,301,501] },
        { id:13, dateStart:'2026-05-09', title:'Baltic Bike Challenge', types:['G'], distances:[150,500] },
        { id:14, dateStart:'2026-05-11', title:'Przeciskach', types:['M'], distances:[350,410,700] },
        { id:15, dateStart:'2026-05-22', title:'Sudovia Gravel', types:['G','E'], distances:[450,500] },
        { id:16, dateStart:'2026-05-23', title:'Zakopane [Race Through Poland]', types:['Sz'], distances:[] },
        { id:17, dateStart:'2026-05-22', dateEnd:'2026-05-24', title:'Etapówka (3 etapy)', types:['Sz'], distances:[150,300,170,600] },
        { id:18, dateStart:'2026-05-22', title:'Gothica Trail', types:['G'], distances:[160,400,600] },
        { id:19, dateStart:'2026-05-30', dateEnd:'2026-05-31', title:'Wanoga Gravel', types:['G'], distances:[150,300,500] },
        { id:20, dateStart:'2026-06-04', title:'Pomorska 500-ka', types:['G'], distances:[500] },
        { id:21, dateStart:'2026-06-04', title:'Ultra Duch Puszczy', types:['G','Sz'], distances:[240,270,360,560] },
        { id:22, dateStart:'2026-06-06', title:'PBT - Wschód 1200', types:['G','Sz'], distances:[1200] },
        { id:23, dateStart:'2026-06-11', title:'GravOn | Three Countries', types:['M','G'], distances:[450] },
        { id:24, dateStart:'2026-06-12', title:'Ultra Lajkonik', types:['M','G','Sz'], distances:[100,250,300,500,600,1000] },
        { id:25, dateStart:'2026-06-12', dateEnd:'2026-06-13', title:'Duży Piękny Zachód', types:['Sz'], distances:[501,1001] },
        { id:26, dateStart:'2026-06-19', title:'Mazowiecki Gravel', types:['G','Sz'], distances:[120,200,250,500] },
        { id:27, dateStart:'2026-06-19', title:'Hardy Gravel: Noc Kupały', types:['G'], distances:[100,250,400,570] },
        { id:28, dateStart:'2026-06-19', title:'Varmia Gravel', types:['G','E'], distances:[100,160,450,500] },
        { id:29, dateStart:'2026-06-20', title:'Parle - Gravel Adventure Race', types:['G'], distances:[290,400] },
        { id:30, dateStart:'2026-06-20', title:'Trojak Kowala: Żar paleniska', types:['G','Sz'], distances:[175,315,450] },
        { id:31, dateStart:'2026-06-27', title:'Pogranicza Gravelu', types:['G'], distances:[160,250] },
        { id:32, dateStart:'2026-06-27', title:'Kotlina 400', types:['G'], distances:[414] },
        { id:33, dateStart:'2026-06-27', title:'Race Around Poland', types:['Sz'], distances:[300,900,1800,3600] },
        { id:34, dateStart:'2026-07-03', title:'Piękny Zachód - Bałtycki tysiąc', types:['Sz'], distances:[1001] },
        { id:35, dateStart:'2026-07-04', title:'Kaszubski Gravel Kartuzy', types:['G','Sz'], distances:[80,150,250] },
        { id:36, dateStart:'2026-07-04', title:'Pierścień Tysiąca Jezior', types:['Sz'], distances:[140,300,610] },
        { id:37, dateStart:'2026-07-04', title:'Wisła 1200', types:['G'], distances:[1200] },
        { id:38, dateStart:'2026-07-04', title:'Wisła 1200 Bikerafting', types:['B&R'], distances:[1200] },
        { id:39, dateStart:'2026-07-05', title:'Wisełka 500', types:['G'], distances:[500] },
        { id:40, dateStart:'2026-07-04', title:'PBT - Góry 400', types:['M'], distances:[400] },
        { id:41, dateStart:'2026-07-11', title:'Graveliada', types:['G'], distances:[80,160,250] },
        { id:42, dateStart:'2026-07-11', title:'Brejdak Gravel', types:['G'], distances:[100,250,500] },
        { id:43, dateStart:'2026-07-18', title:'Robinsonada Mazowiecka', types:['G'], distances:[80,150,250,350] },
        { id:44, dateStart:'2026-07-19', title:'Amber Road BikeRafting Race', types:['G','B&R'], distances:[1400] },
        { id:45, dateStart:'2026-07-24', title:'Lubuska Szosa', types:['Sz'], distances:[125,250,500] },
        { id:46, dateStart:'2026-08-01', title:'Kórnicki Maraton Turystyczny', types:['Sz'], distances:[100,200,300,500] },
        { id:47, dateStart:'2026-08-01', title:'PBT - Zachód 800', types:['G','Sz'], distances:[800] },
        { id:48, dateStart:'2026-08-06', title:'GravOn | Karkonosze Izery Gravel Race', types:['G'], distances:[200,400] },
        { id:49, dateStart:'2026-08-07', title:'Ultra Wschód', types:['G','Sz'], distances:[100,150,200,300,500] },
        { id:50, dateStart:'2026-08-08', title:'Robinsonada Kujawsko-Pomorska', types:['G'], distances:[80,150,250,500] },
        { id:51, dateStart:'2026-08-08', title:'PBT - Wybrzeże 500', types:['G','M','E'], distances:[500] },
        { id:52, dateStart:'2026-08-08', title:'Carpatia Divide', types:['G'], distances:[600] },
        { id:53, dateStart:'2026-08-15', title:'Ultra Niespodzianka + BikeRafting', types:['G','B&R'], distances:[1200] },
        { id:54, dateStart:'2026-08-15', title:'PBT - Polska 3200', types:['G','M'], distances:[3200] },
        { id:55, dateStart:'2026-08-21', title:'Bałtyk-Bieszczady Tour', types:['Sz'], distances:[1008] },
        { id:56, dateStart:'2026-08-22', title:'Warta Gravel', types:['G'], distances:[250,404] },
        { id:57, dateStart:'2026-08-28', title:'Trojak Kowala: Wszyscy Jesteśmy Kowalami', types:['G','Sz'], distances:[200,400,600] },
        { id:58, dateStart:'2026-09-02', title:'Bałtyk - Sudety Tour', types:['Sz'], distances:[2001] },
        { id:59, dateStart:'2026-09-05', title:'Robinsonada Łódzka', types:['G'], distances:[150,250,500] },
        { id:60, dateStart:'2026-09-05', title:'Dolina Noteci Gravel Adventure', types:['G'], distances:[100,200,300] },
        { id:61, dateStart:'2026-09-11', dateEnd:'2026-09-13', title:'Reza 2026', types:['G'], distances:[300,125,140] },
        { id:62, dateStart:'2026-09-12', title:'Robajk Gravel', types:['G'], distances:[140,240,340] },
        { id:63, dateStart:'2026-09-12', title:'Maraton Północ - Południe', types:['Sz'], distances:[1000] },
        { id:64, dateStart:'2026-09-18', title:'Great Lakes Gravel', types:['G'], distances:[160,450,500] },
        { id:65, dateStart:'2026-09-19', title:'Kocielski Gravel', types:['G'], distances:[] },
        { id:66, dateStart:'2026-09-26', title:'Robinsonada Wielkopolska', types:['G'], distances:[150,250,500] },
        { id:67, dateStart:'2026-09-26', title:'Maraton Rowerowy Dookoła Polski - Zachód', types:['Sz'], distances:[1030] },
        { id:68, dateStart:'2026-10-03', title:'PBT - Rozjazd', types:['G','M','Sz'], distances:[100,200,250,500,550] },
        { id:69, dateStart:'2026-10-17', title:'Robinsonada Pomorska', types:['G'], distances:[150,250,500] }
      ];

      const ALL_TYPES = ['Sz','G','M','E','B&R'];

      const formatDate = (dt) => new Date(dt).toLocaleDateString('pl-PL',{year:'numeric',month:'short',day:'numeric'});

      function KalendarzImprez() {
        const today = new Date();
        const [monthOffset,setMonthOffset]=useState(0);
        const [selectedTypes,setSelectedTypes]=useState(new Set());
        const [minDist,setMinDist]=useState('');
        const [maxDist,setMaxDist]=useState('');
        const [search,setSearch]=useState('');

        const viewMonth=new Date(today.getFullYear(),today.getMonth()+monthOffset,1);
        const monthLabel=viewMonth.toLocaleString('pl-PL',{month:'long',year:'numeric'});

        const toggleType=(t)=>{
          const s=new Set(selectedTypes);
          s.has(t)?s.delete(t):s.add(t);
          setSelectedTypes(s);
        };

        const filtered=useMemo(()=>EVENTS.filter(ev=>{
          const evDate=new Date(ev.dateStart);
          const evEnd=ev.dateEnd?new Date(ev.dateEnd):null;
          const monthStart=new Date(viewMonth.getFullYear(),viewMonth.getMonth(),1);
          const monthEnd=new Date(viewMonth.getFullYear(),viewMonth.getMonth()+1,0);
          const inMonth=(evDate<=monthEnd)&&((evEnd?evEnd>=monthStart:evDate>=monthStart));
          if(!inMonth) return false;
          if(selectedTypes.size>0 && !ev.types.some(t=>selectedTypes.has(t))) return false;
          if(minDist||maxDist){
            const min=minDist?parseInt(minDist):0;
            const max=maxDist?parseInt(maxDist):Infinity;
            if(!ev.distances.some(d=>d>=min&&d<=max)) return false;
          }
          if(search && !ev.title.toLowerCase().includes(search.toLowerCase())) return false;
          return true;
        }).sort((a,b)=>new Date(a.dateStart)-new Date(b.dateStart)),[viewMonth,selectedTypes,minDist,maxDist,search]);

        return (
          <div className="min-h-screen bg-gray-50 p-6">
            <div className="max-w-5xl mx-auto bg-white rounded-2xl shadow-lg p-6">
              <header className="flex items-center justify-between mb-4">
                <h1 className="text-2xl font-semibold">Kalendarz Imprez Rowerowych (2026)</h1>
                <div className="text-sm text-gray-600">Stan danych: 14.10.2025</div>
              </header>

              <section className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div>
                  <div className="flex items-center gap-2">
                    <button onClick={()=>setMonthOffset(m=>m-1)} className="px-3 py-1 rounded bg-gray-100">◀</button>
                    <div className="font-medium">{monthLabel}</div>
                    <button onClick={()=>setMonthOffset(m=>m+1)} className="px-3 py-1 rounded bg-gray-100">▶</button>
                    <button onClick={()=>{setMonthOffset(0);setSelectedTypes(new Set());setMinDist('');setMaxDist('');setSearch('')}} className="ml-auto text-sm text-blue-600">Reset</button>
                  </div>

                  <div className="mt-4">
                    <label className="block text-xs text-gray-500">Szukaj</label>
                    <input value={search} onChange={e=>setSearch(e.target.value)} className="w-full border rounded px-2 py-1" placeholder="np. Zakopane"/>
                  </div>

                  <div className="mt-4">
                    <label className="block text-xs text-gray-500">Typ roweru</label>
                    <div className="flex flex-wrap gap-2 mt-2">
                      {ALL_TYPES.map(t=>(
                        <button key={t} onClick={()=>toggleType(t)} className={`px-2 py-1 rounded border ${selectedTypes.has(t)?'bg-blue-600 text-white':'bg-white'}`}>{t}</button>
                      ))}
                    </div>
                  </div>

                  <div className="mt-4 flex gap-2">
                    <div className="flex-1">
                      <label className="block text-xs text-gray-500">Min km</label>
                      <input type="number" value={minDist} onChange={e=>setMinDist(e.target.value)} className="w-full border rounded px-2 py-1"/>
                    </div>
                    <div className="flex-1">
                      <label className="block text-xs text-gray-500">Max km</label>
                      <input type="number" value={maxDist} onChange={e=>setMaxDist(e.target.value)} className="w-full border rounded px-2 py-1"/>
                    </div>
                  </div>
                </div>
              </section>

              <div className="space-y-3">
                {filtered.map(ev=>(
                  <div key={ev.id} className="border rounded-lg p-4 hover:bg-gray-50 transition">
                    <div className="flex justify-between">
                      <div>
                        <div className="font-medium text-lg">{ev.title}</div>
                        <div className="text-sm text-gray-500">{formatDate(ev.dateStart)}{ev.dateEnd?' - '+formatDate(ev.dateEnd):''}</div>
                      </div>
                      <div className="flex flex-col items-end text-sm text-gray-600">
                        <div>{ev.types.join(', ')}</div>
                        <div>{ev.distances.length>0 ? ev.distances.join(' / ') + ' km' : 'brak danych'}</div>
                      </div>
                    </div>
                  </div>
                ))}
                {filtered.length===0 && <div className="text-gray-500 italic">Brak imprez spełniających kryteria.</div>}
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<KalendarzImprez />);
    </script>
  </body>
</html>
